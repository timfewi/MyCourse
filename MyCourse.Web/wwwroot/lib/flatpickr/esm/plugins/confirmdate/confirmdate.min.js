var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,i=1,t=arguments.length;i<t;i++)for(var o in n=arguments[i])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};import{getEventTarget}from"../../utils/dom";var defaultConfig={confirmIcon:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='17' height='17' viewBox='0 0 17 17'> <g> </g> <path d='M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z' fill='#000000' /> </svg>",confirmText:"OK ",showAlways:!1,theme:"light"};function confirmDatePlugin(e){var l,n=__assign(__assign({},defaultConfig),e),o="flatpickr-confirm";return function(r){return r.config.noCalendar||r.isMobile?{}:__assign({onKeyDown:function(e,n,i,t){var o=getEventTarget(t),a=!r.config.time_24hr&&o===r.amPM||r.config.time_24hr&&(r.config.enableSeconds&&o===r.secondElement||!r.config.enableSeconds&&o===r.minuteElement);r.config.enableTime&&"Tab"===t.key&&a?(t.preventDefault(),l.focus()):"Enter"===t.key&&o===l&&r.close()},onReady:function(){(l=r._createElement("div",o+" "+(n.showAlways?"visible":"")+" "+n.theme+"Theme",n.confirmText)).tabIndex=-1,l.innerHTML+=n.confirmIcon,l.addEventListener("click",r.close),r.calendarContainer.appendChild(l),r.loadedPlugins.push("confirmDate")}},n.showAlways?{}:{onChange:function(e,n){var i=r.config.enableTime||"multiple"===r.config.mode||-1!==r.loadedPlugins.indexOf("monthSelect"),t=r.calendarContainer.querySelector("."+o);if(t)return n&&!r.config.inline&&i&&t?t.classList.add("visible"):void t.classList.remove("visible")}})}}export default confirmDatePlugin;