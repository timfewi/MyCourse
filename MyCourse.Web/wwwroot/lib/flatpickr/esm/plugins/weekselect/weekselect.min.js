import{getEventTarget}from"../../utils/dom";function weekSelectPlugin(){return function(r){function e(e){e=getEventTarget(e);if(e.classList.contains("flatpickr-day"))for(var t=r.days.childNodes,e=e.$i/7,a=t[7*Math.floor(e)].dateObj,n=t[7*Math.ceil(.01+e)-1].dateObj,o=t.length;o--;){var i=t[o],d=i.dateObj;n<d||d<a?i.classList.remove("inRange"):i.classList.add("inRange")}}function t(){var e=r.latestSelectedDateObj;void 0!==e&&e.getMonth()===r.currentMonth&&e.getFullYear()===r.currentYear&&(r.weekStartDay=r.days.childNodes[7*Math.floor(r.selectedDateElem.$i/7)].dateObj,r.weekEndDay=r.days.childNodes[7*Math.ceil(r.selectedDateElem.$i/7+.01)-1].dateObj);for(var t=r.days.childNodes,a=t.length;a--;){var n=t[a].dateObj;n>=r.weekStartDay&&n<=r.weekEndDay&&t[a].classList.add("week","selected")}}return{onValueUpdate:t,onMonthChange:t,onYearChange:t,onOpen:t,onClose:function(){for(var e=r.days.childNodes,t=e.length;t--;)e[t].classList.remove("inRange")},onParseConfig:function(){r.config.mode="single",r.config.enableTime=!1,r.config.dateFormat=r.config.dateFormat||"\\W\\e\\e\\k #W, Y",r.config.altFormat=r.config.altFormat||"\\W\\e\\e\\k #W, Y"},onReady:[function(){void 0!==r.daysContainer&&r.daysContainer.addEventListener("mouseover",e)},t,function(){r.loadedPlugins.push("weekSelect")}],onDestroy:function(){void 0!==r.daysContainer&&r.daysContainer.removeEventListener("mouseover",e)}}}}export default weekSelectPlugin;